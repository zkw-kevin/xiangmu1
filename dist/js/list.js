"use strict";function getList(){$.ajax({url:"../lib/nav.json",dataType:"json",success:function(e){var t="";e.forEach(function(n){t+="<li>".concat(n.name,"</li>")}),$(".nav_top>ul").html(t).on({mouseenter:function(){return $(".nav_box").stop().slideDown()},mouseleave:function(){return $(".nav_box").stop().slideUp()}}).children("li").on("mouseover",function(){var n=$(this).index(),t=e[n].list,i="";t.forEach(function(n){i+='\n                    <li>\n                    <div>\n                      <img src="'.concat(n.list_url,'" alt="">\n                    </div>\n                    <p class="title">').concat(n.list_name,'</p>\n                    <span class="price">').concat(n.list_price,"</span>\n                  </li>\n                \n                    ")}),$(".nav_box>ul").html(i)}),$(".nav_box").on({mouseover:function(){$(this).finish().show()},mouseout:function(){$(this).finish().slideUp()}})}})}function getList1(){$.ajax({url:"../lib/nav_left.json",dataType:"json",success:function(e){var t="";e.forEach(function(n){t+="\n        <li>\n          <p>".concat(n.title,"</p>\n          <span>></span>  \n        </li>\n        ")}),$(".nav_left>ul").html(t).on({mouseenter:function(){return $(".nav_right").stop().slideDown()},mouseleave:function(){return $(".nvw_right").stop().slideUp()}}).children("li").on("mouseenter",function(){var n=$(this).index(),t=e[n].list,i="";t.forEach(function(n){i+='\n             <li>\n                <div>\n                  <img src="'.concat(n.url,'" alt="">\n                </div>\n                <p class="title">').concat(n.name,"</p >\n             </li>\n          ")}),$(".nav_right>ul").html(i).on({mouseenter:function(){return $(".nav_right").stop().css("display","block")},mouseleave:function(){return $(".nav_right").stop().css("display","none")}})}),$(".shop").on({mouseenter:function(){return $(".nav_left").stop().css("display","block")},mouseleave:function(){return $(".nav_left").stop().css("display","none")}}),$(".nav_right").on({mouseover:function(){$(this).finish().show()},mouseout:function(){$(this).finish().slideUp()}})}})}getList(),getList1();var flag=!0,list1="",currPage="";function getList2(){$.ajax({url:"../lib/list.json",dataType:"json",success:function(t){$(".pagi").pagination({pageCount:Math.ceil(t.length/15),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(n){currPage=n.getCurrent(),bindHtml(t.slice(15*(currPage-1),15*currPage))}}),bindHtml(t.slice(0,15)),list1=t}})}function bindHtml(n){var t="";n.forEach(function(n){t+='\n    <li data-id="'.concat(n.list_id,'">\n      <img src="').concat(n.list_url,'" alt="">\n      <p>\n        <a href="">\n          ').concat(n.list_name,"\n        </a>\n        </p>\n      <p>￥").concat(n.list_price,'元</p>\n      <a href="">').concat(n.list_gwc,"</a>\n    </li>\n    ")}),$(".box>ul").html(t)}getList2();flag=!0;var btn=document.querySelector(".sort");btn.onclick=function(){var i=document.getElementsByTagName("em")[0];flag=!flag,list1.sort(function(n,t){return!0===flag?(i.className="glyphicon glyphicon-arrow-up",n.list_price-t.list_price):(i.className="glyphicon glyphicon-arrow-down",t.list_price-n.list_price)}),$(".pagi").pagination({pageCount:Math.ceil(list1.length/12),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(n){currPage=n.getCurrent();var t=list1.slice(15*(currPage-1),15*currPage);console.log(t),bindHtml(t)}}),bindHtml(list1.slice(0,15))},$(".box>ul").on("click","li",function(){for(var n=$(this).data("id"),t={},i=0;i<list1.length;i++)if(list1[i].list_id===n){t=list1[i];break}localStorage.setItem("goods_info",JSON.stringify(t)),window.location.href="../pages/detail.html"});